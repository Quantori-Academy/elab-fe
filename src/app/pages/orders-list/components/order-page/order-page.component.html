@if (order$ | async; as order) {
<h1>Order Title: {{ order.title }}</h1>
<h2>Seller: {{ order.seller }}</h2>
<h3>Created: {{ order.createdAt | date : "dd/MM/yyyy - HH:mm" }}</h3>

@if (order.updatedAt === '') {
<h3>Last updated: {{ order.createdAt | date : "dd/MM/yyyy - HH:mm" }}</h3>
}@else {
<h3>Updated: {{ order.updatedAt | date : "dd/MM/yyyy - HH:mm" }}</h3>
}

<h4>Ordered Reagents</h4>
<div class="mat-elevation-z8">
  <mat-table class="table" [dataSource]="order.reagents">
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.name }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="casNumber">
      <mat-header-cell *matHeaderCellDef> casNumber </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{ element.casNumber }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="modification date">
      <mat-header-cell *matHeaderCellDef>Modification Date</mat-header-cell>
      <mat-cell *matCellDef="let element">
        @if (element.updatedAt === '') {
        <span>______</span>
        }@else { {{ element.updatedAt | date : "HH:mm:ss  dd-MM-yyyy" }}}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="desiredQuantity">
      <mat-header-cell *matHeaderCellDef> Desired Quantity </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.desiredQuantity }} {{ element.quantityUnit }}
      </mat-cell>
    </ng-container>

    <!--
    <ng-container matColumnDef="package">
      <mat-header-cell *matHeaderCellDef> Package </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{ element.package }} </mat-cell>
    </ng-container> -->

    <ng-container matColumnDef="quantityLeft">
      <mat-header-cell *matHeaderCellDef> Quantity Left </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.quantityLeft }}
        {{ element.quantityUnit }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="structureSmiles">
      <mat-header-cell *matHeaderCellDef> Structure </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.structureSmiles }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="userComments">
      <mat-header-cell *matHeaderCellDef> Creator's comment </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.userComments }}
      </mat-cell>
    </ng-container>

    <!-- <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <button mat-icon-button aria-label="edit">
          <mat-icon color="primary">edit</mat-icon>
        </button>
        <button mat-icon-button aria-label="delete">
          <mat-icon color="warn">delete</mat-icon>
        </button>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="open-detail">
      <mat-header-cell *matHeaderCellDef> </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <button mat-icon-button aria-label="delete">
          <mat-icon>open_in_new</mat-icon>
        </button>
      </mat-cell>
    </ng-container> -->

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>

  <!-- <mat-paginator
          #paginator
          class="demo-paginator"
          (page)="handlePageEvent($event)"
          [length]="length$ | async"
          [pageSize]="pageSize"
          [pageIndex]="pageIndex"
          aria-label="Select page"
        >
          ></mat-paginator
        > -->
</div>

} @else {
<p>Loading...</p>
}
